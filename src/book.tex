\documentclass[twoside]{book}
\usepackage{ifpdf} 
%\newcommand{\pdflatex}[1]{\ifpdf #1\fi}
%\pdflatex{\DeclareGraphicsRule{*}{mps}{*}{}}
\ifpdf
    \usepackage[yes]{hrefout} % allow selection of hyperref from command line
  \else
    \usepackage{dvidrv} % set the dvi driver from the command line
    \usepackage[no]{hrefout} % allow selection of hyperref from command line
  \fi

\usepackage{verbatim}
\usepackage{xr}
\usepackage[single,write]{bookans}
\usepackage{bookjh}
% \usepackage{bookjh}
%\usepackage{makeidx}
%  \usepackage{showidx} \typeout{REMOVE showidx on final runs!}

% To make print copies, comment out symlist lines, here and below in 
% the \include{..} area, and uncomment the titlepage lines.  You may
% have to "rm *.aux" to get it to compile.
\includeonly{
% covernew,% 
% \ifbool{hardcopybool}{titlepage}{symlist},
% symlist, % comment this out for printed version
% titlepage, % uncomment for printed version
pref/pref,%
gr/gr1,gr/gr2,gr/gr3,gr/cas,gr/leontief,gr/ppivot,gr/network,%
% vs1,vs2,vs3,fields,crystal,voting,dimen,%
% map1,map2,map3,map4,map5,map6,lstsqs,homogeom,magicsqs,markov,erlang,%
%det1,det2,det3,cramer,detspeed,chio,projplane,%
% jc1,jc2,jc3,jc4,powers,pops,search,recur,wilber,%eigengeom,prinaxis,%
% appen,%
% bib%
%test%
}%
\usepackage{makeidx}\makeindex

% Uncomment this to show overfull boxes with a black box in the margin
% \overfullrule=5pt  % if a draft

\begin{document}
\frontmatter
\pagenumbering{roman}
\ifbool{hardcopybool}{\include{titlepage}}{\include{covernew}\include{symlist}\clearemptydoublepage}
% \include{covernew}\include{symlist}\clearemptydoublepage % comment out for printed version
% \include{titlepage} % uncomment for printed version (also remember to change the color of hyperlinks in bookjhconcrete.sty)
\pagestyle{bookfront} 
\setcounter{page}{1}\thispagestyle{empty}\include{pref} %
\pagestyle{booktoc}\clearemptydoublepage\tableofcontents\bigskip\par\noindent${}^*\!$Starred subsections are optional.\clearemptydoublepage %
\mainmatter
\pagenumbering{arabic}
\pagestyle{bookbody} 
\include{gr/gr1}
\include{gr/gr2}
\include{gr/gr3}
\pagestyle{booktopic}
  \include{gr/cas} \include{gr/leontif} \include{gr/ppivot} \include{gr/network}\pagestyle{bookbody} 
\include{vs1}
\include{vs2}
\include{vs3}
\pagestyle{booktopic}
  \include{fields} \include{crystal} \include{voting}  \include{dimen}\pagestyle{bookbody}
\include{map1}
\include{map2}
\include{map3}
\include{map4}
\include{map5}
\include{map6}
\pagestyle{booktopic}
  \include{lstsqs} \include{homogeom} \include{magicsqs} \include{markov} \include{erlang}\pagestyle{bookbody}
\include{det1}
\include{det2}
\include{det3} 
\pagestyle{booktopic}
  \include{cramer} \include{detspeed} \include{chio}  \include{projplane} \pagestyle{bookbody}
\include{jc1}
\include{jc2}
\include{jc3}
\include{jc4}
\pagestyle{booktopic}
  \include{powers} \include{pops} \include{search} \include{recur} \include{wilber} \pagestyle{bookbody}
%\include{eigengeom}
\include{appen}
%\typeout{ BIBLIOGRAPHY COMMENTED OUT}
{\pagestyle{empty}\include{bib}}
%\typeout{ INDEX COMMENTED OUT}
{\printindex}
\end{document}
